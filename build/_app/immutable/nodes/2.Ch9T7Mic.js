import{f as C,a as T,c as le}from"../chunks/BArpSiJ7.js";import"../chunks/0waum1Sv.js";import{o as re}from"../chunks/BP7RbBvP.js";import{I as H,i as A,N as me,y as O,j as _e,D as xe,g as p,av as Ee,F as ke,H as Se,G as ce,J as $,A as q,Y as we,aq as Te,a8 as fe,q as Ae,z as X,C as Le,ao as oe,aK as Ce,W as de,aG as I,aL as Re,aM as Ie,aN as Me,aO as N,v as ye,x as be,aP as W,ak as J,an as Ve,w as Ne,aQ as Be,aR as ze,aS as Ge,aT as Pe,aU as qe,p as ne,ax as R,n as D,o as z,m as ie,k as Q,t as j,s as Z,a9 as ve,K as Fe,aV as He}from"../chunks/C9FWihKz.js";import{i as G,b as ee}from"../chunks/BvFvupHY.js";import{i as se}from"../chunks/BY7w2Zq6.js";import{e as K,s as $e}from"../chunks/Yzwz9Dcx.js";function De(e,n,r){for(var u=[],f=n.length,i,l=n.length,s=0;s<f;s++){let o=n[s];be(o,()=>{if(i){if(i.pending.delete(o),i.done.add(o),i.pending.size===0){var g=e.outrogroups;te(oe(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var m=u.length===0&&r!==null;if(m){var a=r,v=a.parentNode;Ve(v),v.append(a),e.items.clear()}te(n,!m)}else i={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(i)}function te(e,n=!0){for(var r=0;r<e.length;r++)Ne(e[r],n)}var ue;function Oe(e,n,r,u,f,i=null){var l=e,s=new Map;{var m=e;l=A?H(me(m)):m.appendChild(O())}A&&_e();var a=null,v=Ee(()=>{var d=r();return Ce(d)?d:d==null?[]:oe(d)}),o,g=!0;function c(){x.fallback=a,je(x,o,l,n,u),a!==null&&(o.length===0?(a.f&N)===0?ye(a):(a.f^=N,F(a,null,l)):be(a,()=>{a=null}))}var t=xe(()=>{o=p(v);var d=o.length;let h=!1;if(A){var w=ke(l)===Se;w!==(d===0)&&(l=ce(),H(l),$(!1),h=!0)}for(var y=new Set,b=Ae,E=Le(),_=0;_<d;_+=1){A&&q.nodeType===we&&q.data===Te&&(l=q,h=!0,$(!1));var S=o[_],k=u(S,_),L=g?null:s.get(k);L?(L.v&&fe(L.v,S),L.i&&fe(L.i,_),E&&b.skipped_effects.delete(L.e)):(L=Ye(s,g?l:ue??=O(),S,k,_,f,n,r),g||(L.e.f|=N),s.set(k,L)),y.add(k)}if(d===0&&i&&!a&&(g?a=X(()=>i(l)):(a=X(()=>i(ue??=O())),a.f|=N)),A&&d>0&&H(ce()),!g)if(E){for(const[Y,M]of s)y.has(Y)||b.skipped_effects.add(M.e);b.oncommit(c),b.ondiscard(()=>{})}else c();h&&$(!0),p(v)}),x={effect:t,items:s,outrogroups:null,fallback:a};g=!1,A&&(l=q)}function je(e,n,r,u,f){var i=n.length,l=e.items,s=e.effect.first,m,a=null,v=[],o=[],g,c,t,x;for(x=0;x<i;x+=1){if(g=n[x],c=f(g,x),t=l.get(c).e,e.outrogroups!==null)for(const k of e.outrogroups)k.pending.delete(t),k.done.delete(t);if((t.f&N)!==0)if(t.f^=N,t===s)F(t,null,r);else{var d=a?a.next:s;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),V(e,a,t),V(e,t,d),F(t,d,r),a=t,v=[],o=[],s=a.next;continue}if((t.f&W)!==0&&ye(t),t!==s){if(m!==void 0&&m.has(t)){if(v.length<o.length){var h=o[0],w;a=h.prev;var y=v[0],b=v[v.length-1];for(w=0;w<v.length;w+=1)F(v[w],h,r);for(w=0;w<o.length;w+=1)m.delete(o[w]);V(e,y.prev,b.next),V(e,a,y),V(e,b,h),s=h,a=b,x-=1,v=[],o=[]}else m.delete(t),F(t,s,r),V(e,t.prev,t.next),V(e,t,a===null?e.effect.first:a.next),V(e,a,t),a=t;continue}for(v=[],o=[];s!==null&&s!==t;)(m??=new Set).add(s),o.push(s),s=s.next;if(s===null)continue}(t.f&N)===0&&v.push(t),a=t,s=t.next}if(e.outrogroups!==null){for(const k of e.outrogroups)k.pending.size===0&&(te(oe(k.done)),e.outrogroups?.delete(k));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||m!==void 0){var E=[];if(m!==void 0)for(t of m)(t.f&W)===0&&E.push(t);for(;s!==null;)(s.f&W)===0&&s!==e.fallback&&E.push(s),s=s.next;var _=E.length;if(_>0){var S=i===0?r:null;De(e,E,S)}}}function Ye(e,n,r,u,f,i,l,s){var m=(l&Ie)!==0?(l&Me)===0?I(r,!1,!1):de(r):null,a=(l&Re)!==0?de(f):null;return{v:m,i:a,e:X(()=>(i(n,m??r,a??f,s),()=>{e.delete(u)}))}}function F(e,n,r){if(e.nodes)for(var u=e.nodes.start,f=e.nodes.end,i=n&&(n.f&N)===0?n.nodes.start:r;u!==null;){var l=J(u);if(i.before(u),u===f)return;u=l}}function V(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}function Ue(e,n){let r=null,u=A;var f;if(A){r=q;for(var i=me(document.head);i!==null&&(i.nodeType!==we||i.data!==e);)i=J(i);if(i===null)$(!1);else{var l=J(i);i.remove(),H(l)}}A||(f=document.head.appendChild(O()));try{xe(()=>n(f),Be)}finally{u&&($(!0),H(r))}}function We(e,n){return e==null?null:String(e)}function ge(e,n,r,u){var f=e.__style;if(A||f!==n){var i=We(n);(!A||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=n}return u}const Ke=Symbol("is custom element"),Xe=Symbol("is html");function pe(e,n,r,u){var f=Je(e);A&&(f[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||f[n]!==(f[n]=r)&&(n==="loading"&&(e[ze]=r),r==null?e.removeAttribute(n):typeof r!="string"&&Qe(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function Je(e){return e.__attributes??={[Ke]:e.nodeName.includes("-"),[Xe]:e.namespaceURI===Ge}}var he=new Map;function Qe(e){var n=e.getAttribute("is")||e.nodeName,r=he.get(n);if(r)return r;he.set(n,r=[]);for(var u,f=e,i=Element.prototype;i!==f;){u=qe(f);for(var l in u)u[l].set&&r.push(l);f=Pe(f)}return r}var Ze=C('<div class="p-8 text-center text-red-600"> </div>'),et=C('<img class="flex-shrink-0 object-contain rounded" style="max-height: 450px;"/>'),tt=C('<div class="flex gap-2 flex-nowrap w-max p-2"></div>'),rt=C('<div class="p-8 text-center text-gray-600">No images found</div>'),ot=C('<div class="gallery w-full overflow-x-auto scroll-smooth svelte-1ocen1q" style="scrollbar-width: none;" role="region" aria-label="gallery"><!></div>');function nt(e,n){ne(n,!1);let r=I([]),u=I(!0),f=I(null),i=I(),l=I(),s=!0,m=!1;const a=30;re(async()=>{try{const w=await(await fetch("https://api.are.na/v2/channels/vantage-3vctc210p7q")).json();R(r,w.contents.map(y=>({title:y.title||"",url:y.image.display.url})).reverse()),R(u,!1)}catch(h){R(f,h.message),R(u,!1),console.error("Error fetching Are.na channel:",h)}});function v(h){if(!s||!p(i)||!p(l))return;const w=p(i).getBoundingClientRect().width,y=p(l).getBoundingClientRect().width;if(y<=w)return;const b=p(i).getBoundingClientRect(),_=(h.clientX-b.left-a)/(w-a*2),S=y-w;m=!0,p(i).scrollTo({left:S*_,behavior:"instant"}),requestAnimationFrame(()=>m=!1)}function o(){s=!0}function g(){m||(s=!1)}se();var c=ot(),t=D(c);{var x=h=>{},d=h=>{var w=le(),y=Q(w);{var b=_=>{var S=Ze(),k=D(S);z(S),j(()=>$e(k,`Error: ${p(f)??""}`)),T(_,S)},E=_=>{var S=le(),k=Q(S);{var L=M=>{var B=tt();Oe(B,5,()=>p(r),P=>P.url,(P,ae)=>{var U=et();j(()=>{pe(U,"src",p(ae).url),pe(U,"alt",p(ae).title)}),T(P,U)}),z(B),ee(B,P=>R(l,P),()=>p(l)),T(M,B)},Y=M=>{var B=rt();T(M,B)};G(k,M=>{p(r).length>0?M(L):M(Y,!1)},!0)}T(_,S)};G(y,_=>{p(f)?_(b):_(E,!1)},!0)}T(h,w)};G(t,h=>{p(u)?h(x):h(d,!1)})}z(c),ee(c,h=>R(i,h),()=>p(i)),K("mousemove",c,v),K("mouseenter",c,o),K("scroll",c,g),T(e,c),ie()}var it=C('<div class="absolute z-[-1px] flex items-start justify-start bg-white pointer-events-auto"><p class="text-base leading-tight text-left text-black m-0 p-3 overflow-hidden">Vantage reconstructs the spatial context of video recordings.</p></div>'),st=C('<div class="absolute z-[-1px] bg-white overflow-hidden pointer-events-auto"><video autoplay loop src="/demo.mp4" class="w-full h-full object-cover"></video></div>',2),at=C('<div class="fixed top-2 right-2 z-4 gap-1 flex flex-col items-end"><a href="https://thometnanni.github.io/vantage-renderer/" target="_blank" rel="noopener noreferrer" class="text-xs pointer-events-auto svelte-rl21xe">View a prototype</a> <a href="mailto:hi@thometnanni.net" class="text-xs pointer-events-auto svelte-rl21xe">Contact us</a></div> <!> <!>',1);function lt(e,n){ne(n,!1);let r=I({x:0,y:0,width:0,height:0}),u=I({x:0,y:0,width:0,height:0});function f(){const v=document.getElementById("svgContainer");if(!v)return;const o=v.querySelector(".box-group.rotate rect");if(o){const c=o.getBBox(),t=o.closest(".box-group").getScreenCTM(),x=v.createSVGPoint();x.x=c.x,x.y=c.y;const d=x.matrixTransform(t);R(r,{x:d.x,y:d.y+window.scrollY,width:c.width,height:c.height})}const g=v.querySelector(".box-group:not(.rotate) rect");if(g){const c=g.getBBox(),t=g.closest(".box-group").getScreenCTM(),x=v.createSVGPoint();x.x=c.x,x.y=c.y;const d=x.matrixTransform(t);R(u,{x:d.x,y:d.y+window.scrollY,width:c.width,height:c.height})}}re(()=>{f();const v=()=>f(),o=()=>f();return window.addEventListener("resize",v),window.addEventListener("scroll",o),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",o)}}),se();var i=at(),l=Z(Q(i),2);{var s=v=>{var o=it();j(()=>ge(o,`
      left: ${p(r).x}px;
      top: ${p(r).y}px;
      width: ${p(r).width}px;
      height: ${p(r).height}px;
      transform: rotate(-25deg);
      transform-origin: top left;
    `)),T(v,o)};G(l,v=>{p(r).width>0&&v(s)})}var m=Z(l,2);{var a=v=>{var o=st(),g=D(o);g.muted=!0,z(o),j(()=>ge(o,`
      left: ${p(u).x}px;
      top: ${p(u).y}px;
      width: ${p(u).width}px;
      height: ${p(u).height}px;
    `)),T(v,o)};G(m,v=>{p(u).width>0&&v(a)})}T(e,i),ie()}var ct=C('<meta name="description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:title" content="Vantage"/> <meta property="og:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:image" content="/cover.jpg"/> <meta property="twitter:card" content="summary_large_image"/> <meta property="twitter:title" content="Vantage"/> <meta property="twitter:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="twitter:image" content="/cover.jpg"/>',1),ft=C('<div class="relative z-10 bg-white py-4"><!></div>'),dt=C(`<div class="introContainer"><!> <svg id="svgContainer" xmlns="http://www.w3.org/2000/svg"><g class="box-pair"><g class="box box-group rotate"><rect x="0" y="0" width="300" height="200"></rect></g><g class="lines"><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line></g><g class="box box-group box"><rect x="30%" y="200" width="65%" height="400"></rect></g></g></svg> <div class="info p-2"><div><p><strong>Vantage</strong> is a web-based software for <strong>spatial reconstruction of photos and videos</strong>, designed
        for <strong>investigative journalists and fact-checkers</strong>,
        particularly those working in small teams or independently.</p></div> <div><p>Images and videos sourced from social media often represent crucial
        working material â€” and, in conflict areas, sometimes the only available
        source.</p> <p>This persuasive visual material demands rigorous verification: do the
        time and place of the footage correspond to the claimed event? What is
        actually visible in the images? How do clips from different angles
        relate to each other?</p> <p>Vantage enables perspectival reconstruction by projecting images and
        videos onto <strong>3D models of terrain and buildings</strong>, supporting the
        production of visual evidence.</p></div> <div><p>Until now, creating such reconstructions has been highly demanding,
        requiring advanced skills in specialist software such as GIS, 3D
        modeling, and video editing, while offering little opportunity for
        collaboration.</p> <p>Vantage supports this laborious but essential process by bringing all
        operational phases together in a unified, accessible web interface.</p> <p>Reconstructions can be exported as <strong>videos or interactive visualizations</strong>, supporting visual
        storytelling in investigative journalism.</p></div> <div><p>Funded by <a class="link" href="https://prototypefund.de/project/vantage/" target="_blank" rel="noopener noreferrer">Prototype Fund</a>, <strong>Vantage is open-source and freely accessible</strong>,
        ensuring that investigative tools are within reach for everyone.</p> <p><a class="link" href="mailto:hi@thometnanni.net">Write us</a> for more
        information, or follow our development on <a class="link" href="https://github.com/thometnanni/vantage">GitHub</a>.</p> <p><a class="link" href="https://fidel.computer/">Fidel Thomet</a> & <a class="link" href="https://giacomo.website/">Giacomo Nanni</a></p></div></div> <!> <div class="info bg-white overflow-x-auto" style="padding: 20px 0;"><div class="flex gap-6 items-center m-auto" style="padding: 0 10px; white-space: nowrap;"><img src="/bmbf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/pf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/openc.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/></div></div></div>`);function wt(e,n){ne(n,!1);let r=I(),u=I(!1);re(()=>{R(u,!0);const o=setTimeout(()=>{f()},100),g=()=>f(),c=()=>f();return window.addEventListener("resize",g),window.addEventListener("scroll",c),window.addEventListener("load",f),()=>{clearTimeout(o),window.removeEventListener("resize",g),window.removeEventListener("scroll",c),window.removeEventListener("load",f)}});function f(){const o=document.getElementById("svgContainer");if(!o)return;o.querySelectorAll(".box-pair").forEach(c=>{const t=c.querySelectorAll(".box");if(t.length===2){const x=t[0],d=t[1],h=x.closest(".box-group")||x,w=d.closest(".box-group")||d,y=i(x,h),b=i(d,w),E=c.querySelectorAll(".connector-line");E.length>=4&&(l(E[0],y.topLeft,b.topLeft),l(E[1],y.topRight,b.topRight),l(E[2],y.bottomRight,b.bottomRight),l(E[3],y.bottomLeft,b.bottomLeft))}})}function i(o,g=null){const c=document.getElementById("svgContainer"),t=o.getBBox(),x=(g||o).getScreenCTM(),d={topLeft:c.createSVGPoint(),topRight:c.createSVGPoint(),bottomRight:c.createSVGPoint(),bottomLeft:c.createSVGPoint()};d.topLeft.x=t.x,d.topLeft.y=t.y,d.topRight.x=t.x+t.width,d.topRight.y=t.y,d.bottomRight.x=t.x+t.width,d.bottomRight.y=t.y+t.height,d.bottomLeft.x=t.x,d.bottomLeft.y=t.y+t.height;for(let h in d)x&&(d[h]=d[h].matrixTransform(x)),d[h].y+=window.scrollY;return d}function l(o,g,c){o.setAttribute("x1",g.x),o.setAttribute("y1",g.y),o.setAttribute("x2",c.x),o.setAttribute("y2",c.y)}se();var s=dt();Ue("1uha8ag",o=>{var g=ct();ve(14),Fe(()=>{He.title="Vantage"}),T(o,g)});var m=D(s);lt(m,{});var a=Z(m,6);{var v=o=>{var g=ft(),c=D(g);nt(c,{}),z(g),T(o,g)};G(a,o=>{p(u)&&o(v)})}ve(2),z(s),ee(s,o=>R(r,o),()=>p(r)),T(e,s),ie()}export{wt as component};
