import{f as L,a as T,c as de}from"../chunks/BArpSiJ7.js";import"../chunks/0waum1Sv.js";import{o as se}from"../chunks/BP7RbBvP.js";import{I as $,i as A,N as be,y as Y,j as Ce,D as _e,g,av as Re,F as Ie,H as Me,G as ve,J as D,A as F,Y as Ee,aq as Ve,a8 as pe,q as Ne,z as te,C as Be,ao as ae,aK as ze,W as ue,aG as I,aL as Ge,aM as Pe,aN as qe,aO as B,v as ke,x as Se,aP as Z,ak as re,an as Fe,w as He,aQ as $e,aR as De,aS as Oe,aT as je,aU as Ye,p as le,ax as R,n as z,o as N,m as ce,k as oe,t as O,s as U,a9 as ge,K as Ue,aV as We}from"../chunks/C9FWihKz.js";import{i as G,b as ne}from"../chunks/BvFvupHY.js";import{i as fe}from"../chunks/BY7w2Zq6.js";import{e as ee,s as he}from"../chunks/Yzwz9Dcx.js";function Ke(e,n,r){for(var p=[],f=n.length,i,l=n.length,s=0;s<f;s++){let o=n[s];Se(o,()=>{if(i){if(i.pending.delete(o),i.done.add(o),i.pending.size===0){var u=e.outrogroups;ie(ae(i.done)),u.delete(i),u.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var m=p.length===0&&r!==null;if(m){var a=r,v=a.parentNode;Fe(v),v.append(a),e.items.clear()}ie(n,!m)}else i={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(i)}function ie(e,n=!0){for(var r=0;r<e.length;r++)He(e[r],n)}var me;function Xe(e,n,r,p,f,i=null){var l=e,s=new Map;{var m=e;l=A?$(be(m)):m.appendChild(Y())}A&&Ce();var a=null,v=Re(()=>{var d=r();return ze(d)?d:d==null?[]:ae(d)}),o,u=!0;function c(){x.fallback=a,Je(x,o,l,n,p),a!==null&&(o.length===0?(a.f&B)===0?ke(a):(a.f^=B,H(a,null,l)):Se(a,()=>{a=null}))}var t=_e(()=>{o=g(v);var d=o.length;let h=!1;if(A){var w=Ie(l)===Me;w!==(d===0)&&(l=ve(),$(l),D(!1),h=!0)}for(var y=new Set,b=Ne,E=Be(),_=0;_<d;_+=1){A&&F.nodeType===Ee&&F.data===Ve&&(l=F,h=!0,D(!1));var S=o[_],k=p(S,_),C=u?null:s.get(k);C?(C.v&&pe(C.v,S),C.i&&pe(C.i,_),E&&b.skipped_effects.delete(C.e)):(C=Qe(s,u?l:me??=Y(),S,k,_,f,n,r),u||(C.e.f|=B),s.set(k,C)),y.add(k)}if(d===0&&i&&!a&&(u?a=te(()=>i(l)):(a=te(()=>i(me??=Y())),a.f|=B)),A&&d>0&&$(ve()),!u)if(E){for(const[W,M]of s)y.has(W)||b.skipped_effects.add(M.e);b.oncommit(c),b.ondiscard(()=>{})}else c();h&&D(!0),g(v)}),x={effect:t,items:s,outrogroups:null,fallback:a};u=!1,A&&(l=F)}function Je(e,n,r,p,f){var i=n.length,l=e.items,s=e.effect.first,m,a=null,v=[],o=[],u,c,t,x;for(x=0;x<i;x+=1){if(u=n[x],c=f(u,x),t=l.get(c).e,e.outrogroups!==null)for(const k of e.outrogroups)k.pending.delete(t),k.done.delete(t);if((t.f&B)!==0)if(t.f^=B,t===s)H(t,null,r);else{var d=a?a.next:s;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),V(e,a,t),V(e,t,d),H(t,d,r),a=t,v=[],o=[],s=a.next;continue}if((t.f&Z)!==0&&ke(t),t!==s){if(m!==void 0&&m.has(t)){if(v.length<o.length){var h=o[0],w;a=h.prev;var y=v[0],b=v[v.length-1];for(w=0;w<v.length;w+=1)H(v[w],h,r);for(w=0;w<o.length;w+=1)m.delete(o[w]);V(e,y.prev,b.next),V(e,a,y),V(e,b,h),s=h,a=b,x-=1,v=[],o=[]}else m.delete(t),H(t,s,r),V(e,t.prev,t.next),V(e,t,a===null?e.effect.first:a.next),V(e,a,t),a=t;continue}for(v=[],o=[];s!==null&&s!==t;)(m??=new Set).add(s),o.push(s),s=s.next;if(s===null)continue}(t.f&B)===0&&v.push(t),a=t,s=t.next}if(e.outrogroups!==null){for(const k of e.outrogroups)k.pending.size===0&&(ie(ae(k.done)),e.outrogroups?.delete(k));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||m!==void 0){var E=[];if(m!==void 0)for(t of m)(t.f&Z)===0&&E.push(t);for(;s!==null;)(s.f&Z)===0&&s!==e.fallback&&E.push(s),s=s.next;var _=E.length;if(_>0){var S=i===0?r:null;Ke(e,E,S)}}}function Qe(e,n,r,p,f,i,l,s){var m=(l&Pe)!==0?(l&qe)===0?I(r,!1,!1):ue(r):null,a=(l&Ge)!==0?ue(f):null;return{v:m,i:a,e:te(()=>(i(n,m??r,a??f,s),()=>{e.delete(p)}))}}function H(e,n,r){if(e.nodes)for(var p=e.nodes.start,f=e.nodes.end,i=n&&(n.f&B)===0?n.nodes.start:r;p!==null;){var l=re(p);if(i.before(p),p===f)return;p=l}}function V(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}function Ze(e,n){let r=null,p=A;var f;if(A){r=F;for(var i=be(document.head);i!==null&&(i.nodeType!==Ee||i.data!==e);)i=re(i);if(i===null)D(!1);else{var l=re(i);i.remove(),$(l)}}A||(f=document.head.appendChild(Y()));try{_e(()=>n(f),$e)}finally{p&&(D(!0),$(r))}}function et(e,n){return e==null?null:String(e)}function xe(e,n,r,p){var f=e.__style;if(A||f!==n){var i=et(n);(!A||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=n}return p}const tt=Symbol("is custom element"),rt=Symbol("is html");function we(e,n,r,p){var f=ot(e);A&&(f[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||f[n]!==(f[n]=r)&&(n==="loading"&&(e[De]=r),r==null?e.removeAttribute(n):typeof r!="string"&&nt(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function ot(e){return e.__attributes??={[tt]:e.nodeName.includes("-"),[rt]:e.namespaceURI===Oe}}var ye=new Map;function nt(e){var n=e.getAttribute("is")||e.nodeName,r=ye.get(n);if(r)return r;ye.set(n,r=[]);for(var p,f=e,i=Element.prototype;i!==f;){p=Ye(f);for(var l in p)p[l].set&&r.push(l);f=je(f)}return r}var it=L('<div class="p-8 text-center text-red-600"> </div>'),st=L('<p class="text-sm text-gray-400 max-w-[420px]"> </p>'),at=L('<div class="flex flex-col items-start gap-2"><img class="flex-shrink-0 object-contain rounded" style="max-height: 450px;"/> <!></div>'),lt=L('<div class="flex gap-2 flex-nowrap w-max p-2"></div>'),ct=L('<div class="p-8 text-center text-gray-600">No images found</div>'),ft=L('<div class="gallery w-full overflow-x-auto scroll-smooth svelte-1ocen1q" style="scrollbar-width: none;" role="region" aria-label="gallery"><!></div>');function dt(e,n){le(n,!1);let r=I([]),p=I(!0),f=I(null),i=I(),l=I(),s=!0,m=!1;const a=30;se(async()=>{try{const w=await(await fetch("https://api.are.na/v2/channels/vantage-3vctc210p7q")).json();R(r,w.contents.map(y=>({title:y.title||"",url:y.image.display.url})).reverse()),R(p,!1)}catch(h){R(f,h.message),R(p,!1),console.error("Error fetching Are.na channel:",h)}});function v(h){if(!s||!g(i)||!g(l))return;const w=g(i).getBoundingClientRect().width,y=g(l).getBoundingClientRect().width;if(y<=w)return;const b=g(i).getBoundingClientRect(),_=(h.clientX-b.left-a)/(w-a*2),S=y-w;m=!0,g(i).scrollTo({left:S*_,behavior:"instant"}),requestAnimationFrame(()=>m=!1)}function o(){s=!0}function u(){m||(s=!1)}fe();var c=ft(),t=z(c);{var x=h=>{},d=h=>{var w=de(),y=oe(w);{var b=_=>{var S=it(),k=z(S);N(S),O(()=>he(k,`Error: ${g(f)??""}`)),T(_,S)},E=_=>{var S=de(),k=oe(S);{var C=M=>{var P=lt();Xe(P,5,()=>g(r),q=>q.url,(q,j)=>{var K=at(),X=z(K),Te=U(X,2);{var Ae=J=>{var Q=st(),Le=z(Q,!0);N(Q),O(()=>he(Le,g(j).title)),T(J,Q)};G(Te,J=>{g(j).title&&J(Ae)})}N(K),O(()=>{we(X,"src",g(j).url),we(X,"alt",g(j).title)}),T(q,K)}),N(P),ne(P,q=>R(l,q),()=>g(l)),T(M,P)},W=M=>{var P=ct();T(M,P)};G(k,M=>{g(r).length>0?M(C):M(W,!1)},!0)}T(_,S)};G(y,_=>{g(f)?_(b):_(E,!1)},!0)}T(h,w)};G(t,h=>{g(p)?h(x):h(d,!1)})}N(c),ne(c,h=>R(i,h),()=>g(i)),ee("mousemove",c,v),ee("mouseenter",c,o),ee("scroll",c,u),T(e,c),ce()}var vt=L('<div class="absolute z-[-1px] flex items-start justify-start bg-white pointer-events-auto"><p class="text-base leading-tight text-left text-black m-0 p-3 overflow-hidden">Vantage reconstructs the spatial context of video recordings.</p></div>'),pt=L('<div class="absolute z-[-1px] bg-white overflow-hidden pointer-events-auto"><video autoplay loop src="/demo.mp4" class="w-full h-full object-cover"></video></div>',2),ut=L('<div class="fixed top-2 right-2 z-4 gap-1 flex flex-col items-end"><a href="https://thometnanni.github.io/vantage-renderer/" target="_blank" rel="noopener noreferrer" class="text-xs pointer-events-auto svelte-rl21xe">View a prototype</a> <a href="mailto:hi@thometnanni.net" class="text-xs pointer-events-auto svelte-rl21xe">Contact us</a></div> <!> <!>',1);function gt(e,n){le(n,!1);let r=I({x:0,y:0,width:0,height:0}),p=I({x:0,y:0,width:0,height:0});function f(){const v=document.getElementById("svgContainer");if(!v)return;const o=v.querySelector(".box-group.rotate rect");if(o){const c=o.getBBox(),t=o.closest(".box-group").getScreenCTM(),x=v.createSVGPoint();x.x=c.x,x.y=c.y;const d=x.matrixTransform(t);R(r,{x:d.x,y:d.y+window.scrollY,width:c.width,height:c.height})}const u=v.querySelector(".box-group:not(.rotate) rect");if(u){const c=u.getBBox(),t=u.closest(".box-group").getScreenCTM(),x=v.createSVGPoint();x.x=c.x,x.y=c.y;const d=x.matrixTransform(t);R(p,{x:d.x,y:d.y+window.scrollY,width:c.width,height:c.height})}}se(()=>{f();const v=()=>f(),o=()=>f();return window.addEventListener("resize",v),window.addEventListener("scroll",o),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",o)}}),fe();var i=ut(),l=U(oe(i),2);{var s=v=>{var o=vt();O(()=>xe(o,`
      left: ${g(r).x}px;
      top: ${g(r).y}px;
      width: ${g(r).width}px;
      height: ${g(r).height}px;
      transform: rotate(-25deg);
      transform-origin: top left;
    `)),T(v,o)};G(l,v=>{g(r).width>0&&v(s)})}var m=U(l,2);{var a=v=>{var o=pt(),u=z(o);u.muted=!0,N(o),O(()=>xe(o,`
      left: ${g(p).x}px;
      top: ${g(p).y}px;
      width: ${g(p).width}px;
      height: ${g(p).height}px;
    `)),T(v,o)};G(m,v=>{g(p).width>0&&v(a)})}T(e,i),ce()}var ht=L('<meta name="description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:title" content="Vantage"/> <meta property="og:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:image" content="/cover.jpg"/> <meta property="twitter:card" content="summary_large_image"/> <meta property="twitter:title" content="Vantage"/> <meta property="twitter:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="twitter:image" content="/cover.jpg"/>',1),mt=L('<div class="relative z-10 bg-white py-4"><!></div>'),xt=L(`<div class="introContainer"><!> <svg id="svgContainer" xmlns="http://www.w3.org/2000/svg"><g class="box-pair"><g class="box box-group rotate"><rect x="0" y="0" width="300" height="200"></rect></g><g class="lines"><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line></g><g class="box box-group box"><rect x="30%" y="200" width="65%" height="400"></rect></g></g></svg> <div class="info p-2"><div><p><strong>Vantage</strong> is a web-based software for <strong>spatial reconstruction of photos and videos</strong>, designed
        for <strong>investigative journalists and fact-checkers</strong>,
        particularly those working in small teams or independently.</p></div> <div><p>Images and videos sourced from social media often represent crucial
        working material â€” and, in conflict areas, sometimes the only available
        source.</p> <p>This persuasive visual material demands rigorous verification: do the
        time and place of the footage correspond to the claimed event? What is
        actually visible in the images? How do clips from different angles
        relate to each other?</p> <p>Vantage enables perspectival reconstruction by projecting images and
        videos onto <strong>3D models of terrain and buildings</strong>, supporting the
        production of visual evidence.</p></div> <div><p>Until now, creating such reconstructions has been highly demanding,
        requiring advanced skills in specialist software such as GIS, 3D
        modeling, and video editing, while offering little opportunity for
        collaboration.</p> <p>Vantage supports this laborious but essential process by bringing all
        operational phases together in a unified, accessible web interface.</p> <p>Reconstructions can be exported as <strong>videos or interactive visualizations</strong>, supporting visual
        storytelling in investigative journalism.</p></div> <div><p>Funded by <a class="link" href="https://prototypefund.de/project/vantage/" target="_blank" rel="noopener noreferrer">Prototype Fund</a>, <strong>Vantage is open-source and freely accessible</strong>,
        ensuring that investigative tools are within reach for everyone.</p> <p><a class="link" href="mailto:hi@thometnanni.net">Write us</a> for more
        information, or follow our development on <a class="link" href="https://github.com/thometnanni/vantage">GitHub</a>.</p> <p><a class="link" href="https://fidel.computer/">Fidel Thomet</a> & <a class="link" href="https://giacomo.website/">Giacomo Nanni</a></p></div></div> <!> <div class="info bg-white overflow-x-auto" style="padding: 20px 0;"><div class="flex gap-6 items-center m-auto" style="padding: 0 10px; white-space: nowrap;"><img src="/bmbf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/pf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/openc.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/></div></div></div>`);function Tt(e,n){le(n,!1);let r=I(),p=I(!1);se(()=>{R(p,!0);const o=setTimeout(()=>{f()},100),u=()=>f(),c=()=>f();return window.addEventListener("resize",u),window.addEventListener("scroll",c),window.addEventListener("load",f),()=>{clearTimeout(o),window.removeEventListener("resize",u),window.removeEventListener("scroll",c),window.removeEventListener("load",f)}});function f(){const o=document.getElementById("svgContainer");if(!o)return;o.querySelectorAll(".box-pair").forEach(c=>{const t=c.querySelectorAll(".box");if(t.length===2){const x=t[0],d=t[1],h=x.closest(".box-group")||x,w=d.closest(".box-group")||d,y=i(x,h),b=i(d,w),E=c.querySelectorAll(".connector-line");E.length>=4&&(l(E[0],y.topLeft,b.topLeft),l(E[1],y.topRight,b.topRight),l(E[2],y.bottomRight,b.bottomRight),l(E[3],y.bottomLeft,b.bottomLeft))}})}function i(o,u=null){const c=document.getElementById("svgContainer"),t=o.getBBox(),x=(u||o).getScreenCTM(),d={topLeft:c.createSVGPoint(),topRight:c.createSVGPoint(),bottomRight:c.createSVGPoint(),bottomLeft:c.createSVGPoint()};d.topLeft.x=t.x,d.topLeft.y=t.y,d.topRight.x=t.x+t.width,d.topRight.y=t.y,d.bottomRight.x=t.x+t.width,d.bottomRight.y=t.y+t.height,d.bottomLeft.x=t.x,d.bottomLeft.y=t.y+t.height;for(let h in d)x&&(d[h]=d[h].matrixTransform(x)),d[h].y+=window.scrollY;return d}function l(o,u,c){o.setAttribute("x1",u.x),o.setAttribute("y1",u.y),o.setAttribute("x2",c.x),o.setAttribute("y2",c.y)}fe();var s=xt();Ze("1uha8ag",o=>{var u=ht();ge(14),Ue(()=>{We.title="Vantage"}),T(o,u)});var m=z(s);gt(m,{});var a=U(m,6);{var v=o=>{var u=mt(),c=z(u);dt(c,{}),N(u),T(o,u)};G(a,o=>{g(p)&&o(v)})}ge(2),N(s),ne(s,o=>R(r,o),()=>g(r)),T(e,s),ce()}export{Tt as component};
