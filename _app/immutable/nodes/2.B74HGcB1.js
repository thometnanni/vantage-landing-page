import{f as A,a as k,c as ue}from"../chunks/DpyPw7Lk.js";import"../chunks/2xbA1Vif.js";import{o as ge}from"../chunks/Cy5vHcRT.js";import{y as U,D as _e,I as O,i as z,N as Ee,j as ze,g as u,av as Ve,F as qe,H as Be,G as he,J as W,A as F,Y as ke,aq as Ie,a8 as me,q as Me,aK as M,z as le,C as Ne,W as xe,aG as q,ao as pe,aL as Ge,aM as Pe,aN as $e,aO as De,v as Se,x as Re,aP as se,ak as ce,an as je,w as Fe,aQ as He,aR as Oe,aS as We,aT as Ye,aU as Ue,p as X,ax as V,s as P,k as K,n as C,o as S,m as J,t as G,a9 as ne,K as Ke,aV as Xe}from"../chunks/kha2TEoo.js";import{i as N,b as ve}from"../chunks/D2_gR9hq.js";import{i as Q}from"../chunks/BzbS523n.js";import{e as ae,s as de}from"../chunks/DqvtfHgn.js";function Je(e,o,r){for(var h=[],d=o.length,i,f=o.length,s=0;s<d;s++){let p=o[s];Re(p,()=>{if(i){if(i.pending.delete(p),i.done.add(p),i.pending.size===0){var b=e.outrogroups;fe(pe(i.done)),b.delete(i),b.size===0&&(e.outrogroups=null)}}else f-=1},!1)}if(f===0){var g=h.length===0&&r!==null;if(g){var c=r,a=c.parentNode;je(a),a.append(c),e.items.clear()}fe(o,!g)}else i={pending:new Set(o),done:new Set},(e.outrogroups??=new Set).add(i)}function fe(e,o=!0){for(var r=0;r<e.length;r++)Fe(e[r],o)}var be;function Te(e,o,r,h,d,i=null){var f=e,s=new Map;{var g=e;f=z?O(Ee(g)):g.appendChild(U())}z&&ze();var c=null,a=Ve(()=>{var v=r();return Ge(v)?v:v==null?[]:pe(v)}),p,b=!0;function x(){m.fallback=c,Qe(m,p,f,o,h),c!==null&&(p.length===0?(c.f&M)===0?Se(c):(c.f^=M,H(c,null,f)):Re(c,()=>{c=null}))}var t=_e(()=>{p=u(a);var v=p.length;let w=!1;if(z){var l=qe(f)===Be;l!==(v===0)&&(f=he(),O(f),W(!1),w=!0)}for(var n=new Set,y=Me,R=Ne(),T=0;T<v;T+=1){z&&F.nodeType===ke&&F.data===Ie&&(f=F,w=!0,W(!1));var _=p[T],E=h(_,T),L=b?null:s.get(E);L?(L.v&&me(L.v,_),L.i&&me(L.i,T),R&&y.skipped_effects.delete(L.e)):(L=Ze(s,b?f:be??=U(),_,E,T,d,o,r),b||(L.e.f|=M),s.set(E,L)),n.add(E)}if(v===0&&i&&!c&&(b?c=le(()=>i(f)):(c=le(()=>i(be??=U())),c.f|=M)),z&&v>0&&O(he()),!b)if(R){for(const[Z,ee]of s)n.has(Z)||y.skipped_effects.add(ee.e);y.oncommit(x),y.ondiscard(()=>{})}else x();w&&W(!0),u(a)}),m={effect:t,items:s,outrogroups:null,fallback:c};b=!1,z&&(f=F)}function Qe(e,o,r,h,d){var i=o.length,f=e.items,s=e.effect.first,g,c=null,a=[],p=[],b,x,t,m;for(m=0;m<i;m+=1){if(b=o[m],x=d(b,m),t=f.get(x).e,e.outrogroups!==null)for(const E of e.outrogroups)E.pending.delete(t),E.done.delete(t);if((t.f&M)!==0)if(t.f^=M,t===s)H(t,null,r);else{var v=c?c.next:s;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),B(e,c,t),B(e,t,v),H(t,v,r),c=t,a=[],p=[],s=c.next;continue}if((t.f&se)!==0&&Se(t),t!==s){if(g!==void 0&&g.has(t)){if(a.length<p.length){var w=p[0],l;c=w.prev;var n=a[0],y=a[a.length-1];for(l=0;l<a.length;l+=1)H(a[l],w,r);for(l=0;l<p.length;l+=1)g.delete(p[l]);B(e,n.prev,y.next),B(e,c,n),B(e,y,w),s=w,c=y,m-=1,a=[],p=[]}else g.delete(t),H(t,s,r),B(e,t.prev,t.next),B(e,t,c===null?e.effect.first:c.next),B(e,c,t),c=t;continue}for(a=[],p=[];s!==null&&s!==t;)(g??=new Set).add(s),p.push(s),s=s.next;if(s===null)continue}(t.f&M)===0&&a.push(t),c=t,s=t.next}if(e.outrogroups!==null){for(const E of e.outrogroups)E.pending.size===0&&(fe(pe(E.done)),e.outrogroups?.delete(E));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||g!==void 0){var R=[];if(g!==void 0)for(t of g)(t.f&se)===0&&R.push(t);for(;s!==null;)(s.f&se)===0&&s!==e.fallback&&R.push(s),s=s.next;var T=R.length;if(T>0){var _=i===0?r:null;Je(e,R,_)}}}function Ze(e,o,r,h,d,i,f,s){var g=(f&Pe)!==0?(f&$e)===0?q(r,!1,!1):xe(r):null,c=(f&De)!==0?xe(d):null;return{v:g,i:c,e:le(()=>(i(o,g??r,c??d,s),()=>{e.delete(h)}))}}function H(e,o,r){if(e.nodes)for(var h=e.nodes.start,d=e.nodes.end,i=o&&(o.f&M)===0?o.nodes.start:r;h!==null;){var f=ce(h);if(i.before(h),h===d)return;h=f}}function B(e,o,r){o===null?e.effect.first=r:o.next=r,r===null?e.effect.last=o:r.prev=o}function et(e,o){let r=null,h=z;var d;if(z){r=F;for(var i=Ee(document.head);i!==null&&(i.nodeType!==ke||i.data!==e);)i=ce(i);if(i===null)W(!1);else{var f=ce(i);i.remove(),O(f)}}z||(d=document.head.appendChild(U()));try{_e(()=>o(d),He)}finally{h&&(W(!0),O(r))}}function tt(e,o){return e==null?null:String(e)}function we(e,o,r,h){var d=e.__style;if(z||d!==o){var i=tt(o);(!z||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=o}return h}const rt=Symbol("is custom element"),ot=Symbol("is html");function I(e,o,r,h){var d=it(e);z&&(d[o]=e.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&e.nodeName==="LINK")||d[o]!==(d[o]=r)&&(o==="loading"&&(e[Oe]=r),r==null?e.removeAttribute(o):typeof r!="string"&&st(e).includes(o)?e[o]=r:e.setAttribute(o,r))}function it(e){return e.__attributes??={[rt]:e.nodeName.includes("-"),[ot]:e.namespaceURI===We}}var ye=new Map;function st(e){var o=e.getAttribute("is")||e.nodeName,r=ye.get(o);if(r)return r;ye.set(o,r=[]);for(var h,d=e,i=Element.prototype;i!==d;){h=Ue(d);for(var f in h)h[f].set&&r.push(f);d=Ye(d)}return r}var nt=A('<div class="p-8 text-center text-red-600"> </div>'),at=A('<p class="text-sm text-gray-400 max-w-xs"> </p>'),lt=A('<div class="flex flex-col items-start gap-2"><img class="flex-shrink-0 object-contain rounded" style="max-height: 350px;"/> <!></div>'),ct=A('<div class="flex gap-2 flex-nowrap w-max p-2"></div>'),vt=A('<div class="p-8 text-center text-gray-600">No images found</div>'),dt=A('<h2 class="text-xl font-medium m-0 px-2 pt-4 pb-1">Gallery</h2> <div class="gallery w-full overflow-x-auto scroll-smooth svelte-1ocen1q" style="scrollbar-width: none;" role="region" aria-label="gallery"><!></div>',1);function ft(e,o){X(o,!1);let r=q([]),h=q(!0),d=q(null),i=q(),f=q(),s=!0,g=!1;const c=30;ge(async()=>{try{const n=await(await fetch("https://api.are.na/v2/channels/vantage-3vctc210p7q")).json();V(r,n.contents.map(y=>({title:y.title||"",url:y.image.display.url})).reverse().slice(0,6)),V(h,!1)}catch(l){V(d,l.message),V(h,!1),console.error("Error fetching Are.na channel:",l)}});function a(l){if(!s||!u(i)||!u(f))return;const n=u(i).getBoundingClientRect().width,y=u(f).getBoundingClientRect().width;if(y<=n)return;const R=u(i).getBoundingClientRect(),_=(l.clientX-R.left-c)/(n-c*2),E=y-n;g=!0,u(i).scrollTo({left:E*_,behavior:"instant"}),requestAnimationFrame(()=>g=!1)}function p(){s=!0}function b(){g||(s=!1)}Q();var x=dt(),t=P(K(x),2),m=C(t);{var v=l=>{},w=l=>{var n=ue(),y=K(n);{var R=_=>{var E=nt(),L=C(E);S(E),G(()=>de(L,`Error: ${u(d)??""}`)),k(_,E)},T=_=>{var E=ue(),L=K(E);{var Z=$=>{var D=ct();Te(D,5,()=>u(r),j=>j.url,(j,Y)=>{var te=lt(),re=C(te),Ae=P(re,2);{var Ce=oe=>{var ie=at(),Le=C(ie,!0);S(ie),G(()=>de(Le,u(Y).title)),k(oe,ie)};N(Ae,oe=>{u(Y).title&&oe(Ce)})}S(te),G(()=>{I(re,"src",u(Y).url),I(re,"alt",u(Y).title)}),k(j,te)}),S(D),ve(D,j=>V(f,j),()=>u(f)),k($,D)},ee=$=>{var D=vt();k($,D)};N(L,$=>{u(r).length>0?$(Z):$(ee,!1)},!0)}k(_,E)};N(y,_=>{u(d)?_(R):_(T,!1)},!0)}k(l,n)};N(m,l=>{u(h)?l(v):l(w,!1)})}S(t),ve(t,l=>V(i,l),()=>u(i)),ae("mousemove",t,a),ae("mouseenter",t,p),ae("scroll",t,b),k(e,x),J()}var gt=A('<div class="absolute z-[-1px] flex items-start justify-start bg-white pointer-events-auto"><p class="text-base leading-tight text-left text-black m-0 p-3 overflow-hidden">Vantage reconstructs the spatial context of video recordings.</p></div>'),pt=A('<div class="absolute z-[-1px] bg-white overflow-hidden pointer-events-auto"><video autoplay loop src="/demo.mp4" class="w-full h-full object-cover"></video></div>',2),ut=A('<div class="fixed top-2 z-100 right-2 gap-1 flex flex-col items-end"><a href="https://thometnanni.github.io/vantage-stories/" target="_blank" rel="noopener noreferrer" class="text-xs pointer-events-auto svelte-rl21xe">Demos</a> <a href="mailto:hi@thometnanni.net" class="text-xs pointer-events-auto svelte-rl21xe">Contact us</a></div> <!> <!>',1);function ht(e,o){X(o,!1);let r=q({x:0,y:0,width:0,height:0}),h=q({x:0,y:0,width:0,height:0});function d(){const a=document.getElementById("svgContainer");if(!a)return;const p=a.getBoundingClientRect(),b=a.closest(".max-w-480"),x=b?b.getBoundingClientRect():p,t=a.querySelector(".box-group.rotate rect");if(t){const v=t.getBBox(),w=t.closest(".box-group").getScreenCTM(),l=a.createSVGPoint();l.x=v.x,l.y=v.y;const n=l.matrixTransform(w);V(r,{x:n.x-x.left,y:n.y+window.scrollY,width:v.width,height:v.height})}const m=a.querySelector(".box-group:not(.rotate) rect");if(m){const v=m.getBBox(),w=m.closest(".box-group").getScreenCTM(),l=a.createSVGPoint();l.x=v.x,l.y=v.y;const n=l.matrixTransform(w);V(h,{x:n.x-x.left,y:n.y+window.scrollY,width:v.width,height:v.height})}}ge(()=>{d();const a=()=>d(),p=()=>d();return window.addEventListener("resize",a),window.addEventListener("scroll",p),()=>{window.removeEventListener("resize",a),window.removeEventListener("scroll",p)}}),Q();var i=ut(),f=P(K(i),2);{var s=a=>{var p=gt();G(()=>we(p,`
      left: ${u(r).x}px;
      top: ${u(r).y}px;
      width: ${u(r).width}px;
      height: ${u(r).height}px;
      transform: rotate(-25deg);
      transform-origin: top left;
    `)),k(a,p)};N(f,a=>{u(r).width>0&&a(s)})}var g=P(f,2);{var c=a=>{var p=pt(),b=C(p);b.muted=!0,S(p),G(()=>we(p,`
      left: ${u(h).x}px;
      top: ${u(h).y}px;
      width: ${u(h).width}px;
      height: ${u(h).height}px;
    `)),k(a,p)};N(g,a=>{u(h).width>0&&a(c)})}k(e,i),J()}var mt=A('<video autoplay loop playsinline="" preload="metadata" class="svelte-zsqvxh"></video>',2),xt=A('<img loading="lazy" class="svelte-zsqvxh"/>'),bt=A('<article><a target="_blank" rel="noopener noreferrer" class="story-card svelte-zsqvxh"><div class="story-media svelte-zsqvxh"><!></div> <div class="story-meta svelte-zsqvxh"><h3 class="story-title m-0 svelte-zsqvxh"> </h3></div></a></article>'),wt=A('<section class="bg-white py-6"><div class="max-w-480"><div class="flex items-baseline justify-between gap-1"><h2 class="text-xl font-medium m-0 px-2 pt-4 pb-1">Stories</h2></div></div> <div class="stories-outer mt-3 svelte-zsqvxh" role="region" aria-label="stories"><div class="stories-inner svelte-zsqvxh"></div></div></section>');function yt(e,o){X(o,!1);const r=[{title:"Silbersteinstraße Graffitis 1983",media:"/stories/silberstein.mp4",href:"https://thometnanni.github.io/vantage-stories/stories/silber"},{title:"Genoa G8 Clashes, 2001",media:"/stories/g8.webp",href:"https://thometnanni.github.io/vantage-stories/stories/g8"},{title:"Vajont Disaster",media:"/stories/vajont.mp4",href:"https://thometnanni.github.io/vantage-stories/stories/vajont"}];function h(s){const g=s.split("?")[0].toLowerCase();return g.endsWith(".mp4")||g.endsWith(".webm")||g.endsWith(".ogg")}Q();var d=wt(),i=P(C(d),2),f=C(i);Te(f,5,()=>r,s=>s.href,(s,g)=>{var c=bt(),a=C(c),p=C(a),b=C(p);{var x=l=>{var n=mt();n.muted=!0,G(()=>{I(n,"src",u(g).media),I(n,"aria-label",u(g).title)}),k(l,n)},t=l=>{var n=xt();G(()=>{I(n,"src",u(g).media),I(n,"alt",u(g).title)}),k(l,n)};N(b,l=>{h(u(g).media)?l(x):l(t,!1)})}S(p);var m=P(p,2),v=C(m),w=C(v,!0);S(v),S(m),S(a),S(c),G(()=>{I(a,"href",u(g).href),I(a,"aria-label",`Read story: ${u(g).title}`),de(w,u(g).title)}),k(s,c)}),S(f),S(i),S(d),k(e,d),J()}var _t=A('<meta name="description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:title" content="Vantage"/> <meta property="og:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="og:image" content="/cover.jpg"/> <meta property="twitter:card" content="summary_large_image"/> <meta property="twitter:title" content="Vantage"/> <meta property="twitter:description" content="Vantage reconstructs the spatial context of video recordings."/> <meta property="twitter:image" content="/cover.jpg"/>',1),Et=A('<div class="relative z-10 bg-white py-4"><!></div>'),kt=A(`<div class="introContainer"><div class="max-w-480 m-auto"><!> <svg id="svgContainer" xmlns="http://www.w3.org/2000/svg"><g class="box-pair"><g class="box box-group rotate"><rect x="0" y="0" width="300" height="200"></rect></g><g class="lines"><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line><line class="connector-line" stroke="var(--stroke, lime)" stroke-width="2"></line></g><g class="box box-group box"><rect x="30%" y="200" width="65%" height="460"></rect></g></g></svg></div> <div class="bg-white"><div class="max-w-480 m-auto"><div class="info p-2"><div><p><strong>Vantage</strong> is a web-based collection of <strong>spatial reconstruction toolkits for analysing photos and videos</strong>, designed for <strong>investigative journalists and fact-checkers</strong>,
            particularly those working in small teams or independently.</p></div> <div><p>Images and videos sourced from social media often represent crucial
            working material — and, in conflict areas, sometimes the only
            available source.</p> <p>This persuasive visual material demands rigorous verification: do
            the time and place of the footage correspond to the claimed event?
            What is actually visible in the images? How do clips from different
            angles relate to each other?</p> <p>Vantage enables perspectival reconstruction by projecting images and
            videos onto <strong>3D models of terrain and buildings</strong>, supporting the
            production of visual evidence.</p></div> <div><p>Until now, creating such reconstructions has been highly demanding,
            requiring advanced skills in specialist software such as GIS, 3D
            modeling, and video editing, while offering little opportunity for
            collaboration.</p> <p>Vantage supports this laborious but essential process by bringing
            all operational phases together through accessible web-based
            interfaces.</p> <p>Reconstructions can be exported as <strong>videos or interactive visualizations</strong>, supporting
            visual storytelling in investigative journalism.</p></div> <div><p>Funded by <a class="link" href="https://prototypefund.de/project/vantage/" target="_blank" rel="noopener noreferrer">Prototype Fund</a>, <strong>Vantage is open-source and freely accessible</strong>,
            ensuring that investigative tools are within reach for everyone.</p> <p><a class="link" href="mailto:hi@thometnanni.net">Write us</a> for
            more information, or follow our development on <a class="link" href="https://github.com/search?q=topic%3Avantage+org%3Athometnanni&amp;type=Repositories&amp;s=updated&amp;o=desc">GitHub</a>.</p> <p><a class="link" href="https://fidel.computer/">Fidel Thomet</a> & <a class="link" href="https://giacomo.website/">Giacomo Nanni</a></p></div></div></div></div> <!> <!> <div class="info bg-white overflow-x-auto" style="padding: 20px 0;"><div class="flex gap-6 items-center m-auto" style="padding: 0 10px; white-space: nowrap;"><img src="/bmbf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/pf.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/> <img src="/openc.svg" alt="" class="object-contain flex-shrink-0" style="max-width: 30%; max-height: 150px;"/></div></div></div>`);function Vt(e,o){X(o,!1);let r=q(),h=q(!1);ge(()=>{V(h,!0);const x=setTimeout(()=>{d()},100),t=()=>d(),m=()=>d();return window.addEventListener("resize",t),window.addEventListener("scroll",m),window.addEventListener("load",d),()=>{clearTimeout(x),window.removeEventListener("resize",t),window.removeEventListener("scroll",m),window.removeEventListener("load",d)}});function d(){const x=document.getElementById("svgContainer");if(!x)return;x.querySelectorAll(".box-pair").forEach(m=>{const v=m.querySelectorAll(".box");if(v.length===2){const w=v[0],l=v[1],n=w.closest(".box-group")||w,y=l.closest(".box-group")||l,R=i(w,n),T=i(l,y),_=m.querySelectorAll(".connector-line");_.length>=4&&(f(_[0],R.topLeft,T.topLeft),f(_[1],R.topRight,T.topRight),f(_[2],R.bottomRight,T.bottomRight),f(_[3],R.bottomLeft,T.bottomLeft))}})}function i(x,t=null){const m=document.getElementById("svgContainer"),v=x.getBBox(),w=(t||x).getScreenCTM(),l=m.getBoundingClientRect(),n={topLeft:m.createSVGPoint(),topRight:m.createSVGPoint(),bottomRight:m.createSVGPoint(),bottomLeft:m.createSVGPoint()};n.topLeft.x=v.x,n.topLeft.y=v.y,n.topRight.x=v.x+v.width,n.topRight.y=v.y,n.bottomRight.x=v.x+v.width,n.bottomRight.y=v.y+v.height,n.bottomLeft.x=v.x,n.bottomLeft.y=v.y+v.height;for(let y in n)w&&(n[y]=n[y].matrixTransform(w)),n[y].y+=window.scrollY,n[y].x-=l.left;return n}function f(x,t,m){x.setAttribute("x1",t.x),x.setAttribute("y1",t.y),x.setAttribute("x2",m.x),x.setAttribute("y2",m.y)}Q();var s=kt();et("1uha8ag",x=>{var t=_t();ne(14),Ke(()=>{Xe.title="Vantage"}),k(x,t)});var g=C(s),c=C(g);ht(c,{}),ne(2),S(g);var a=P(g,4);yt(a,{});var p=P(a,2);{var b=x=>{var t=Et(),m=C(t);ft(m,{}),S(t),k(x,t)};N(p,x=>{u(h)&&x(b)})}ne(2),S(s),ve(s,x=>V(r,x),()=>u(r)),k(e,s),J()}export{Vt as component};
